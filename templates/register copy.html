<!-- Header -->
{% include "header.html" %}

<!-- Body -->
<body class="py-0 px-0 m-0 border-0 bd-example">
  <div class="container-sm">

    <div class="text-success text-center mt-4">
      {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes list-unstyled">
        {% for message in messages %}
          <li>
            <h5>{{ message }}</h5>
          </li>
        {% endfor %}
        </ul>
      {% endif %}
      {% endwith %}
    </div>

    <h3 class="mt-5 mx-4">Report Traffic Issues</h3>
    <div class="card mx-5">
      <div class="card-body">
        <!-- <form class="row g-3"> -->
        <form method="POST" enctype="multipart/form-data" action="/add_account">
          {{ form.hidden_tag() }} 

          <div class="row mt-3">
            <div class="col-md-3">
              {{ form.first_name.label }} <br> 
              {{ form.first_name }} <br> 
              <!-- Error Message -->
              {% for message in form.first_name.errors %} 
                <div class="text-danger">{{message}}</div> 
              {% endfor %} 
            </div>

            <div class="col-md-3">
              {{ form.last_name.label }} <br> 
              {{ form.last_name }} <br> 
              <!-- Error Message -->
              {% for message in form.last_name.errors %} 
                <div class="text-danger">{{message}}</div> 
              {% endfor %} 
            </div>
            <div class="col-md-6">
              {{ form.email.label }} <br> 
              {{ form.email }} <br>
              <!-- Error Message -->
              {% for message in form.email.errors %} 
                <div class="text-danger">{{message}}</div> 
              {% endfor %} 
            </div>
          </div>
          
          <div class="row mt-3">
            <div class="col-md-6">
              {{ form.phone.label }} <br> 
              {{ form.phone }} <br>
              <!-- Error Message -->
              {% for message in form.phone.errors %} 
                <div class="text-danger">{{message}}</div> 
              {% endfor %} 
            </div>
            <div class="col-md-6">
              {{ form.location.label }} <br> 
              {{ form.location }} <br>
              <!-- Error Message -->
              {% for message in form.location.errors %} 
                <div class="text-danger">{{message}}</div> 
              {% endfor %} 
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              {{ form.detail.label }} <br> 
              {{ form.detail }} <br>
              <!-- Error Message -->
              {% for message in form.detail.errors %} 
                <div class="text-danger">{{message}}</div> 
              {% endfor %} 
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <div class="mt-2">
                <label for="file">Upload Image:</label><br>
                {{ form.files }} <br> 
              </div>
              <div class="mt-2">
                <label for="video">Upload Video:</label><br>
                {{ form.files }} <br> 
              </div>
            </div>
          </div>

          <div class="col-12 mt-3">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>



  
  <!-- Alert -->
  {% with messages = get_flashed_messages() %}
    {% if messages %} 
        {% for message in messages %} 
            <div class="alert alert-danger" role="alert">
              {{ message }}
            </div> 
        {% endfor %} 
    {% endif %} 
  {% endwith %}
  
    
  <!--Registration Form-->
  <div class="d-flex justify-content-center mt-5">
    <!-- WTForms -->
    <form class="card p-4" action="/add_account", method="post" style="width: 30rem;">
      {{ form.hidden_tag() }} 
      <h2 class="text-start">Create account</h2>
      <div class="form-row">

        <div class="form-group col-md-10 mb-2">
          {{ form.first_name.label }} <br> 
          {{ form.first_name }} <br> 
          <!-- Error Message -->
          {% for message in form.first_name.errors %} 
            <div class="text-danger">{{message}}</div> 
          {% endfor %} 
        </div>

        <div class="form-group col-md-10 mb-2">
          {{ form.last_name.label }} <br> 
          {{ form.last_name }} <br> 
          <!-- Error Message -->
          {% for message in form.last_name.errors %} 
            <div class="text-danger">{{message}}</div> 
          {% endfor %} 
        </div>

        <div class="form-group col-md-10 mb-2">
          {{ form.email.label }} <br> 
          {{ form.email }} <br>
          <!-- Error Message -->
          {% for message in form.email.errors %} 
            <div class="text-danger">{{message}}</div> 
          {% endfor %} 
        </div>

        <div class="form-group col-md-10 mb-2">
          {{ form.phone.label }} <br> 
          {{ form.phone }} <br>
          <!-- Error Message -->
          {% for message in form.phone.errors %} 
            <div class="text-danger">{{message}}</div> 
          {% endfor %} 
        </div>

        <div class="form-group col-md-10 mb-2">
          {{ form.location.label }} <br> 
          {{ form.location }} <br>
          <!-- Error Message -->
          {% for message in form.location.errors %} 
            <div class="text-danger">{{message}}</div> 
          {% endfor %} 
        </div>

        <div class="form-group col-md-10 mb-2">
          {{ form.detail.label }} <br> 
          {{ form.detail }} <br>
          <!-- Error Message -->
          {% for message in form.detail.errors %} 
            <div class="text-danger">{{message}}</div> 
          {% endfor %} 
        </div>

        <div class="form-group col-md-10 mb-2">
          {{ form.files }} <br> 
        </div>

      </div>
      <input type="submit" name="Go Back to home" class="btn btn-success col-md-12 my-3"/>
      
    </form>
  </div>


</body>
</html>